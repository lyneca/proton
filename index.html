<!doctype html>
<html>

<head>
  <link href="./node_modules/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
  <link href="global.css" rel="stylesheet" type="text/css" />
  <script>
    window.$ = window.jquery = require('jquery')
  </script>
</head>

<body>
  <div id='window-toolbar'>
    <div id='window-title'>
      Proton
    </div>
    <div id='window-controls'>
      <div id='window-minimize' class='button window-control' onclick="win.minimize()">
      </div>
      <div id='window-maximize' class='button window-control' onclick="win.maximize()">
      </div>
      <div id='window-close' class='button window-control' onclick="win.close()">
      </div>
    </div>
  </div>
  <div id='container'>
    <div>

    </div>
  </div>
  <script>
    var remote = require('electron').remote;
    var win = remote.getCurrentWindow();
    resizeContent(56)

    function resizeContent(h) {
      var height = win.getBounds().height - h
      $('#container').css('height', height)
    }
    win.on('resize', function() {
      resizeContent(56)
    })
    win.on('maximize', function() {
      resizeContent(70);
      $('#window-maximize').attr("onclick", "win.unmaximize()")
    })

    win.on('unmaximize', function() {
      $('#window-maximize').attr("onclick", "win.maximize()")
      resizeContent(56)
    })
  </script>

</body>

</html>
